<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Cuá»™c Äua Doanh Sá»‘ 3 Tá»·</title>

<style>
body{
  margin:0;
  background:#020617;
  color:#ffffff;
  font-family: Arial, Helvetica, sans-serif;
}
h1{
  text-align:center;
  font-size:42px;
  margin:30px 0 10px;
}
h2{
  text-align:center;
  font-size:22px;
  color:#38bdf8;
  margin-bottom:30px;
}
#race{
  width:85%;
  margin:auto;
}
.row{
  margin:28px 0;
}
.header{
  display:flex;
  align-items:center;
  font-size:26px;
  margin-bottom:10px;
}
.rank{
  width:50px;
  font-size:32px;
  font-weight:bold;
  color:#facc15;
}
.icon{
  width:60px;
  font-size:36px;
  text-align:center;
}
.name{
  flex:1;
}
.percent{
  width:160px;
  text-align:right;
  font-weight:bold;
}
.bar-bg{
  width:100%;
  height:34px;
  background:#1e293b;
  border-radius:17px;
  overflow:hidden;
}
.bar{
  height:34px;
  background:linear-gradient(90deg,#22c55e,#4ade80);
  transition:width 1s;
}
.footer{
  position:fixed;
  bottom:12px;
  width:100%;
  text-align:center;
  font-size:16px;
  color:#94a3b8;
}
</style>
</head>

<body>

<h1>ğŸ CUá»˜C ÄUA DOANH Sá»</h1>
<h2>ğŸ¯ Má»¥c tiÃªu má»—i nhÃ¢n viÃªn: 3 Tá»¶ VNÄ</h2>

<div id="race"></div>

<div class="footer">
  ğŸ”„ Cáº­p nháº­t tá»± Ä‘á»™ng má»—i 30 giÃ¢y
</div>

<script>
// ================== Cáº¤U HÃŒNH ==================
const TARGET = 3000000000; // 3 Tá»¶
const SHEET_URL = "https://opensheet.elk.sh/1ZFde_VPigMDlqlsM2aVKudr36yW6KmgYSJ_kovAeWNE/DATA";
// ==============================================

function formatVND(number){
  return number.toLocaleString("vi-VN") + " â‚«";
}

fetch(SHEET_URL)
  .then(res => res.json())
  .then(data => {

    data.forEach(d=>{
      d.sales = Number(d["Doanh sá»‘ hiá»‡n táº¡i"]);
      d.percent = Math.min(100, Math.round(d.sales / TARGET * 100));
    });

    data.sort((a,b)=> b.sales - a.sales);

    const race = document.getElementById("race");
    race.innerHTML = "";

    data.forEach((d,i)=>{
      race.innerHTML += `
        <div class="row">
          <div class="header">
            <div class="rank">${i+1}</div>
            <div class="icon">${d.icon}</div>
            <div class="name">${d.TÃªn}</div>
            <div class="percent">
              ${d.percent}% â€“ ${formatVND(d.sales)}
            </div>
          </div>
          <div class="bar-bg">
            <div class="bar" style="width:${d.percent}%"></div>
          </div>
        </div>
      `;
    });
  });

// Auto refresh
setTimeout(()=>location.reload(),30000);
</script>

</body>
</html>
